(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const u={validateUrl(r){try{const n=new URL(r);return n.protocol==="https:"&&(n.hostname==="github.com"||n.hostname==="raw.githubusercontent.com"||n.hostname==="drrakendu78.github.io")}catch{return!1}},validateGithubAsset(r){return r&&typeof r=="object"&&typeof r.browser_download_url=="string"&&r.browser_download_url.startsWith("https://github.com/")&&r.name.endsWith(".msi")}};window.security=u;document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("theme-toggle"),n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;n==="dark"||!n&&s?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme")),r.addEventListener("click",()=>{document.body.classList.contains("light-theme")?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"),localStorage.setItem("theme","light"))})});document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelectorAll(".fade-in, .slide-in-right, .slide-in-left"),n={root:null,rootMargin:"0px",threshold:.1},s=new IntersectionObserver((o,e)=>{o.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate"),e.unobserve(t.target))})},n);r.forEach(o=>{s.observe(o)}),document.querySelectorAll('a[href^="#"]').forEach(o=>{o.addEventListener("click",function(e){const t=this.getAttribute("href");if(t&&t.startsWith("#")){e.preventDefault();const i=document.querySelector(t);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}})})});const l=["/public/Capture-ecran-2025-05-11-170607.png","/public/capture-ecran-2025-05-11-171534.png","/public/Capture-ecran-2025-05-11-222124.png","/public/Capture-ecran-2025-05-11-222132.png","/public/Capture-ecran-2025-05-11-222138.png","/public/Capture-ecran-2025-05-11-222151.png","/public/Capture-ecran-2025-05-11-222158.png","/public/Capture-ecran-2025-05-14-044458.png","/public/Capture-ecran-2025-05-14-152224.png"];let a=0;setInterval(()=>{a=(a+1)%l.length,document.getElementById("hero-slideshow").src=l[a]},3500);const d=["/public/smartscreen_info.png","/public/smartscreen_run.png"];let c=0;setInterval(()=>{c=(c+1)%d.length,document.getElementById("smartscreen-slideshow").src=d[c]},3500);async function m(){try{const s=(await(await fetch("https://api.github.com/repos/drrakendu78/TradSC/releases/latest")).json()).assets.find(o=>o.name.endsWith("_x64_fr-FR.msi"));if(window.security.validateGithubAsset(s)){const o=document.getElementById("download-msi"),e=document.getElementById("download-msi-install");s&&(o&&(o.href=s.browser_download_url,o.setAttribute("download",s.name)),e&&(e.href=s.browser_download_url,e.setAttribute("download",s.name),e.removeAttribute("disabled"),e.innerHTML=`<svg class="download-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" style="margin-right:6px;"><path fill="white" d="M5 20h14a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2zm7-3a1 1 0 0 0 1-1v-5.59l1.3 1.3a1 1 0 1 0 1.4-1.42l-3-3a1 1 0 0 0-1.4 0l-3 3a1 1 0 1 0 1.4 1.42l1.3-1.3V16a1 1 0 0 0 1 1z"/></svg>
                  Télécharger la dernière version (.msi)`))}else console.error("Asset GitHub non valide")}catch(r){console.error("Erreur lors de l'initialisation de la sécurité:",r)}}document.addEventListener("DOMContentLoaded",()=>{window.security?m():console.error("Security module non chargé")});document.getElementById("download-msi-install").addEventListener("click",function(r){this.hasAttribute("disabled")&&r.preventDefault()});
