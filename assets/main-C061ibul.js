(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const l=["/Capture-ecran-2025-05-11-170607.png","/capture-ecran-2025-05-11-171534.png","/Capture-ecran-2025-05-11-222124.png","/Capture-ecran-2025-05-11-222132.png","/Capture-ecran-2025-05-11-222138.png","/Capture-ecran-2025-05-11-222151.png","/Capture-ecran-2025-05-11-222158.png","/Capture-ecran-2025-05-14-044458.png","/Capture-ecran-2025-05-14-152224.png"];let i=0;setInterval(()=>{i=(i+1)%l.length,document.getElementById("image-slideshow").src=l[i]},3500);const c=["/smartscreen_info.png","/smartscreen_run.png"];let d=0;setInterval(()=>{d=(d+1)%c.length,document.getElementById("smartscreen-slideshow").src=c[d]},3500);async function u(){try{const n=(await(await fetch("https://api.github.com/repos/drrakendu78/TradSC/releases/latest")).json()).assets.find(o=>o.name.endsWith(".msi")&&window.security.validateGithubAsset(o));if(n){const o=document.getElementById("download-msi"),e=document.getElementById("download-msi-install");o&&(o.href=n.browser_download_url,o.setAttribute("download",n.name)),e&&(e.href=n.browser_download_url,e.setAttribute("download",n.name),e.removeAttribute("disabled"),e.innerHTML=`
                        <svg class="download-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" style="margin-right:6px;">
                            <path fill="white" d="M5 20h14a1 1 0 0 0 0-2H5a1 1 0 0 0 0 2zm7-3a1 1 0 0 0 1-1v-5.59l1.3 1.3a1 1 0 1 0 1.4-1.42l-3-3a1 1 0 0 0-1.4 0l-3 3a1 1 0 1 0 1.4 1.42l1.3-1.3V16a1 1 0 0 0 1 1z"/>
                        </svg>
                        Télécharger la dernière version (.msi)`)}else console.error("Aucun asset MSI valide trouvé")}catch(s){console.error("Erreur lors de la récupération de la dernière version:",s);const t=document.getElementById("download-msi"),n=document.getElementById("download-msi-install");t&&(t.innerHTML="Erreur lors du chargement",t.disabled=!0),n&&(n.innerHTML="Erreur lors du chargement",n.disabled=!0)}}document.addEventListener("DOMContentLoaded",()=>{if(window.security)u();else{console.error("Module de sécurité non chargé");const s=document.getElementById("download-msi"),t=document.getElementById("download-msi-install");s&&(s.innerHTML="Module de sécurité non chargé",s.disabled=!0),t&&(t.innerHTML="Module de sécurité non chargé",t.disabled=!0)}});document.getElementById("download-msi-install").addEventListener("click",function(s){this.hasAttribute("disabled")&&s.preventDefault()});
